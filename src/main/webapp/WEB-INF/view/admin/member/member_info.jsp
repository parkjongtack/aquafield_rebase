<%@ page contentType="text/html; charset=utf-8" pageEncoding="utf-8"%><%@ include file="../../common/taglibs.jsp" %><script type="text/javascript">	// 목록버튼  	function goListPage(){		document.serach_form.submit();	}	// 저장버튼	function goUpdate(){		var frm = document.update;		//E-mail 중복확인 여부 체크		if($("#mem_id").val() != $("input[name=mem_org_id]").val() && $("#idCheck").val() == 'N'){			alert("E-mail 중복확인을 해주시기 바랍니다.");			return false;		}		frm.submit();	}		//고개문의 탭	function goMemberCS(){		var frm = document.update;		frm.action = "/secu_admaf/admin/member/member_cs_list.af";		frm.submit();	}		//예약내역 탭	function goMemberRES(){		var frm = document.update;		frm.action = "/secu_admaf/admin/member/member_res.af";		frm.submit();	}	$(document).ready(function(){		// E-mail 수정이 되었을 경우, 기존 E-mail 과 다르면 중복확인 여부 'N'으로 변경		$("#mem_id").blur(function(){	        var email = $(this).val();	        // 값을 입력안한경우는 아예 체크를 하지 않는다.	        if( email == '' || email == 'undefined') return;	        if(email != $("input[name=mem_org_id]").val()){	        	$("#idCheck").val("N");			}	    });	});			function emailCheck(t){        var t = $(t);      	// Email 입력여부 검사		if(t.val() == ""){			alert( "E-mail 을 입력해주시기 바랍니다.");			frm.mem_id.focus();			return false;		}				var regEmail=/([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;		// Email 유효성 검사		if(!regEmail.test(t.val())) { 			alert( '잘못된 형식의 E-mail 입니다.');			t.focus();			return false; 		}		        if(t.val() != null && t.val() != ''){            $.ajax({				type: "post"		   		,url : '/useridCheck.af'		   		,data : {user_id : t.val()}		   		,dataType : "html"		   		,success: function(obj){		   			if(obj === ''){		   				alert("사용 가능한 아이디 입니다.");		   				$("#idCheck").val('Y');		   			}else if(obj === 'DUPLITE'){		   				alert("중복된 아이디 입니다.");		   				$("#idCheck").val('N');                        $("#userid").focus();		   				return;		   			}else{		   				alert("아이디 중복체크중 에러가 발생하였습니다.");		   				return;		   						   			}		   		}		   		,error: function(xhr, option, error){		   			alert("에러가 발생했습니다. 잠시 후에 다시하세요.");		   		}	   		});    	}else{    		alert("아이디(이메일)을 입력해 주세요.");            t.focus();    		return;    	}	}		function memberDel() {		var memUid = $('#mem_uid').val();		var memOrgId = $('#mem_org_id').val();				var frm = document.update;				if(memUid != '' && memUid != null) {						if(confirm('회원정보를 삭제 하시겠습니까?')){				$('#update').attr("action","/secu_admaf/admin/member/member_del.af");				frm.submit();				}					}			}	function memberRecovery() {		var memUid = $('#mem_uid').val();		var memOrgId = $('#mem_org_id').val();				var frm = document.update;				if(memUid != '' && memUid != null) {						if(confirm('로그인 횟수를 초기화하시겠습니까?')){				$('#update').attr("action","/secu_admaf/admin/member/member_recovery.af");				frm.submit();				}					}			}		</script><section id="contents">	<div class="contents_bx_type1">		<div class="contents_bx_inner">			<div id="path" class="fixed">				<div class="pathInner">					<h2>회원정보</h2>					<div class="btns_area">					    <c:if test="${MEMINFOYN eq 'Y'}">						<button class="btn_pack btn_mo d_gray" type="button" onclick="goUpdate();"><img src="/admaf/images/common/ico_save.png">저장</button>						</c:if>						<a href="javascript:;" onclick="goListPage();" class="btn_pack btn_mo gray"><img src="/admaf/images/common/ico_list.png">목록</a>					</div>				</div>			</div>			<div class="tabMenu">	 			<ul class="clearfix">	 				<li class="on"><a href="javascript:void(0);">회원정보</a></li>	 				<li><a href="#" onclick="goMemberRES(); return false;">예약내역</a></li>	 				<li><a href="#" onclick="goMemberCS(); return false;">고객문의</a></li>	 			</ul>	 		</div>	 		<form id="update" name="update" action="/secu_admaf/admin/member/member_update.af" method="post">	 			<input type="hidden" id="mem_uid" name="mem_uid" value="${vo.MEM_UID }">	 			<input type="hidden" id="mem_org_id" name="mem_org_id" value="${vo.MEM_ID }">	 			<input type="hidden" name="idCheck" id="idCheck" value="Y">		 		<div class="tb_type2 mb20 tabContent">					<table>						<tbody>							<tr>								<th>회원번호</th>								<td>${vo.MEM_NUM}</td>								<th>가입일</th>								<td>${vo.INS_DATE}</td>							</tr>							<tr>								<th>회원명</th>								<td>									<c:choose>										<c:when test="${MEMINFOYN eq 'Y'}">											${vo.MEM_NM }																				</c:when>										<c:otherwise>											${vo.MASK_MEM_NM }										</c:otherwise>									</c:choose>								</td>								<th>이메일/SMS/DM<br/>정보수신 동의</th>								<td>${vo.RECEIVED_INFO_AT}</td>							</tr>							<tr>								<th>아이디(이메일)</th>								<td>									<c:choose>										<c:when test="${MEMINFOYN eq 'Y'}">											<input type="text" id="mem_id" name="mem_id" class="ipt2 w180" value="${vo.MEM_ID}" />																				</c:when>										<c:otherwise>											<input type="text" id="mem_id" name="mem_id" class="ipt2 w180" value="${vo.MASK_MEM_ID }" />										</c:otherwise>									</c:choose>																										<button class="btn_pack btn_mo d_gray" type="button" onclick="emailCheck('#mem_id');">중복확인</button>								</td>								<th>휴대폰번호</th>								<td>									<c:if test="${MEMINFOYN eq 'Y'}">								    <c:choose>								    <c:when test="${fn:length(vo.MOBILE_NUM) > 10 }">								    	${fn:substring(vo.MOBILE_NUM,0,3)}-${fn:substring(vo.MOBILE_NUM,3,7)}-${fn:substring(vo.MOBILE_NUM,7,11)}								    </c:when>								    <c:otherwise>								    	${fn:substring(vo.MOBILE_NUM,0,3)}-${fn:substring(vo.MOBILE_NUM,3,6)}-${fn:substring(vo.MOBILE_NUM,6,10)}								    </c:otherwise>							    								    </c:choose>									    </c:if>								    <c:if test="${MEMINFOYN eq 'N'}">								    	${vo.MASK_MOBILE_NUM}								    </c:if>									</td>							</tr>							<tr>								<th>성별</th>								<td>									<c:if test="${vo.MEM_GENDER eq 'M'}">남</c:if>									<c:if test="${vo.MEM_GENDER eq 'W'}">여</c:if>								</td>								<th>생년월일</th>								<td>${vo.MEM_BIRTH} 									<c:if test="${vo.BIRTH_TYPE eq 'Y'}">양력</c:if>									<c:if test="${vo.BIRTH_TYPE ne 'Y'}">음력</c:if>								</td>							</tr>							<tr>								<th>주소</th>								<td colspan="3">${vo.HOME_ADDR1} ${vo.HOME_ADDR2}</td>							</tr>							<tr>								<th>회원탈퇴</th>								<td colspan="3"><button class="btn_pack btn_mo d_gray" type="button" onclick="memberDel();">회원탈퇴</button></td>							</tr>							<tr>								<th>로그인횟수초기화</th>								<td colspan="3"><button class="btn_pack btn_mo d_gray" type="button" onclick="memberRecovery();">로그인횟수초기화</button></td>							</tr>													</tbody>					</table>				</div>			</form>		</div>	</div></section><form name="serach_form" action="/secu_admaf/admin/member/index.af" method="post" >	<input type="hidden" name="order_res" value="${resultParam.order_res }">	<input type="hidden" name="page" value="${resultParam.page }">	<input type="hidden" name="srch_text" value="${resultParam.srch_text }">	<input type="hidden" name="srch_sex" value="${resultParam.srch_sex }">	<input type="hidden" name="srch_reg_s" value="${resultParam.srch_reg_s }">	<input type="hidden" name="srch_reg_e" value="${resultParam.srch_reg_e }"></form>
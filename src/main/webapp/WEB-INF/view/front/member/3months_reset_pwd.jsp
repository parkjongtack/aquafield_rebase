<%@ page contentType="text/html; charset=utf-8" pageEncoding="utf-8"%><%@ include file="../../common/taglibs.jsp" %><section id="bx_3months_reset_pwd">    <div class="con_type1">        <header>            <h1>비밀번호 변경안내</h1>            <h2>스스로 지키는 개인정보! 비밀번호를 변경해 주세요.</h2>            <p>                회원님은 오랫동안 비밀번호를 변경하지 않고 동일한 비밀번호를 사용하고 계십니다.<br/>                보안을 위해 비밀번호를 변경하여 주실 것을 요청 드립니다. <br/>                본 사이트는 회원님의 정보보호 강화를 위해 최종 비밀번호 변경 후 3개월이 경과되면, 로그인 시 비밀번호 변경을 <br/>                요청 드리고 있으니, 앞으로도 적극적인 참여를 부탁 드립니다.            </p>        </header>        <form name="submitForm" id="submitForm" method="post" onsubmit="return false;">        <input type="hidden" name="point" value="${param.point}">        <input type="hidden" name="id" value="${param.id}">        <input type="hidden" name="uid" value="${param.uid}">        <input type="hidden" name="pointUrl" value="${pointUrl}">        <div class="row">            <div class="tb_type1 col s12 mb30">                <table>                    <tbody>                        <tr class="require">                            <th>현재 비밀번호</th>                            <td>                                <div class="placeh">                                    <input type="password" class="ipt w260" name="userPW" id="userPW" onblur="nowPw(this)">                                </div>                                <div class="status"></div>                            </td>                        </tr>                        <tr class="require">                            <th>신규 비밀번호</th>                            <td>                                <div class="placeh">                                    <input type="password" class="ipt w260" id="PWD1" name="PWD1" onblur="chkPw01(this)">                                    <label for="PWD1">영 소문자, 숫자 조합 8자리 이상</label>                                </div>                                <div class="status"></div>                            </td>                        </tr>                        <tr class="require">                            <th>신규 비밀번호 재입력</th>                            <td>                                <div class="placeh">                                    <input type="password" class="ipt w260" id="PWD2" name="PWD2" onblur="chkPw02(this,'#PWD1')">                                    <label for="PWD2">영 소문자, 숫자 조합 8자리 이상</label>                                </div>                                <div class="status"></div>                            </td>                        </tr>                    </tbody>                </table>            </div>        </div>        </form>    </div>    <div class="btns center">        <button class="btn_pack btn_mo brown" onclick="submit('change');">변경사항 저장</button>        <button class="btn_pack btn_mo white" onclick="submit('change90');">90일 뒤에 변경</button>    </div><script type="text/javascript">    inputlabel.align();    placeHFn.align();    $("#bx_multi_content").css('width', '100%');    $('#pop_member_login_signup .btn_close').click(function() {        var pointUrl = $("input[name=pointUrl]").val();    	location.href = pointUrl;    });    $("#bx_3months_reset_pwd").parent().css('background', 'url("/common/front/images/member/reset_pw.png") top right no-repeat');    function nowPw(id) {        var t = $(id), list = t.closest('tr'), meg = list.find(".status");        if(chkNull(t,meg,list)) return;        var result = true;        if(!result){            list.removeClass("good").addClass('bad');            meg.html("*형식에 맞지 않습니다.");            return false;        }else{            list.addClass("good").removeClass('bad');            meg.html("");        }    }    function chkPw01(id) {        var t = $(id), list = t.closest('tr'), meg = list.find(".status");        if(chkNull(t,meg,list)) return;        var chk = 0;        if(t.val().search(/[0-9]/g) != -1 ) chk ++; //숫자        if(t.val().search(/[a-z]/ig)  != -1 ) chk ++; //영문        if(/^[a-zA-Z0-9!@#$%^&*()?_~]{8,15}$/.test(t.val())) chk ++; //8~14자        if(chk < 3){            list.removeClass("good").addClass('bad');            meg.html("*형식에 맞지 않습니다.");            return false;        }else{            list.removeClass("good bad");            meg.html("");        }    }    function chkPw02(id, pw1) {        var t = $(id), list = t.closest('tr'), meg = list.find(".status");        if(chkNull(t,meg,list)) return;        if(t.val() != $(pw1).val()){            list.removeClass("good").addClass('bad');            meg.html("*비밀번호가 일치하지 않습니다.");            return false;        }else{            list.addClass("good").removeClass('bad');            meg.html("");        }    }    function chkNull(t,meg,list){        if(t.val() === ""){            meg.html("*비밀번호를 입력하세요.");            list.addClass("bad").removeClass('good');            return true;        }    }    function formCheck(){        var result = true;        $("#submitForm").find('tr.require').each(function () {            if($(this).hasClass('bad') || $(this).find("input").val() == '') {                $(this).find('input').eq(0).focus().blur().focus();                result = false;                return result;            }        });        return result;    }         function submit(type){    	    	var url = "";    	if(type === 'change') url = '/member/ReSet.af';    	if(type === 'change90') url = '/member/ReSet90.af';        if(formCheck() || type === 'change90'){            var formData = $("#submitForm").serialize();            $.ajax({                async: false                ,type: "post"                ,url : url                ,data : formData                ,dataType : "html"                ,success: function(obj){                	eval(obj);                }                ,error: function(xhr, option, error){                    alert("에러가 발생했습니다. 잠시 후에 다시하세요.");                }            });        }    };</script></section>
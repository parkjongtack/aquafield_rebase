<%@ page contentType="text/html; charset=utf-8" pageEncoding="utf-8"%><%@ include file="../../common/taglibs.jsp" %><div id="login_wrap" class="wrap_line">	<div class="inner">	    <h2> 휴면계정 복구</h2>	    <div class="login_box">			    <p style="line-height: 24px;  font-size: 1.0em; margin-bottom: 10px;">인증이 완료되었습니다. <br/>필수정보를 입력해서 계정을 복구해주세요.</p>		    <form id="inactForm" name="inactForm" action="" onsubmit="return false">		    <input type="hidden" name="num" value="${parameter.num}">    	      		    <div class="form_type3 type3">		        <ul style="margin-bottom:0;border-bottom:0; padding-bottom:0;">		            <!-- <li class="require">		            	<div class="placeh">			                <input type="text" class="ipt bd_hide injectAble" name="userName" id="userName" onblur="chkAccount.name(this)" placeholder="이름">			                <label id="userName"></label>		            	</div>			            </li> -->		            <li>		            	<div class="placeh">			                <input type="text" class="ipt bd_hide injectAble" name="phonenum" id="phonenum" onchange="phone('#phonenum')" placeholder="휴대폰번호">			                <label id="phonenum"></label>		                </div>			            </li>		            <li>		                 <div class="placeh">		                     <input type="password" class="ipt bd_hide injectAble" id="resetPWD1" name="resetPWD1" onchange="pw01('#resetPWD1')" placeholder="새 비밀번호">		                     <label for="resetPWD1"></label>		                 </div>		             </li>		             <li>		                 <div class="placeh">		                     <input type="password" class="ipt bd_hide injectAble" id="resetPWD2" name="resetPWD2" onchange="pw02('#resetPWD2','#resetPWD1')" placeholder="비밀번호 확인">		                     <label for="resetPWD2"></label>		                 </div>		             </li>      		             <li class="require_tit">		             	<p>※영 소문자, 숫자 조합 8자리 이상</p>		             </li> 		             <!-- <li>		            	<div class="inputlabel">				                <input type="text" class="ipt w2602" name="address" id="address" onblur="chkAccount.address(this);">			                <button onclick="postcode('address');" class="btn_pack btn_mo black small2"><span>주소검색</span></button>			            </div>			            <div class="placeh">			                <input type="text" class="ipt w100p injectAble" name="address2" id="address2">			                <label id="address2"></label>			            </div>		            </li>  -->  		        </ul>		    </div>		    <div class="btn_group btn1">		        <button onclick="complete();" class="btn blue"><span>확인</span></button>		    </div>		    </form>	    	    		    <script>		        placeHFn.align(); 		        chkAccount.phone($("#phonenum"));		        function complete(){		  		   		  		   if(validCheck()){		 				var formData = $("#inactForm").serialize();		 				//var formData = $("#inactForm").serialize().replace(/%/g,'%25');		 		    	$.ajax({		 					 type: "post"		 			   		,url : '/member/inactMemUpd.af'		 			   		,data: formData		 			   		,dataType : "json"		 			   		,success: function(obj){			 			   		if(obj == 'SETOK') {			 			   			alert('정상 처리 되었습니다.');			 			   			location.href='/member/loginMain.af';			 			   		} else {				 			   		alert('에러가 발생했습니다.');				 			   		return;			 			   		}		 								 			   		}		 			   		,error: function(xhr, option, error){		 			   			alert("에러가 발생했습니다. 잠시 후에 다시하세요.");		 			   		}		 		   		});			  		   }		 	   };		 	   		 	   		 	    function phone(obj){		 	    	var t = $(obj), list = t.closest('li'), meg = list.find(".status");		 					 			var phone = t.val();		 			if(phone.indexOf('-') != -1){		 				phone = phone.split('-').join('');		 			}		 					 			var regPhone = /^((01[1|6|7|8|9])[1-9]+[0-9]{6,7})|(010[1-9][0-9]{7})$/;		 			if(!regPhone.test(phone)){		 				list.removeClass("good").addClass('bad');		 				/* meg.html("전화번호를 정확히 입력해주세요."); */		 				alert("전화번호를 정확히 입력해주세요.");		 				return false;			 			}		 			list.addClass("good").removeClass('bad');		 		}			   		 	   		 	  /* 새 비밀번호 형식 Check */		 		function pw01(id) {		 			var t = $(id), list = t.closest('li'), meg = list.find(".status");		 			var chk = 0;		 			if(t.val().search(/[0-9]/g) != -1 ) chk ++; //숫자		 		    if(t.val().search(/[a-z]/ig)  != -1 ) chk ++; //영문		 		    //if(t.val().search(/[!@#$%^&*()?_~]/g)  != -1  ) chk ++; //특수기호		 			if(/^[a-zA-Z0-9!@#$%^&*()?_~]{8,15}$/.test(t.val())) chk ++; //8~14자		 			if(chk < 3){		 				alert("형식에 맞지 않습니다.");		 				t.focus();		 				return false;		 			}else{		 				$('PWD2').focus();		 			}		 		}		 				 		/* 비밀번호 확인 */		 		function pw02(id, pw1){		 			var t = $(id), list = t.closest('li'), meg = list.find(".status");		 			if(t.val() != $(pw1).val()){		 				alert("패스워드가 일치하지 않습니다.");		 				t.focus();		 				return false;		 			}else{		 				return true;		 			}		 		}		 	   			   function validCheck() {				   var result= true;				   /* if($("#userName").val() == '') {				   		alert('이름을 입력해 주시기 바랍니다.');				   		$("#userName").focus(); 				   		result = false; 				   		return result;				   } */				   				   if($("#phonenum").val() == ''){				   		alert('휴대폰번호를 입력해 주시기 바랍니다.'); 				   		$("#phonenum").focus(); 				   		result = false; 				   		return result;				   }				   				   if($("#resetPWD1").val() == '' || $("#resetPWD2").val() == ''){					   alert('비밀번호를 입력해 주시기 바랍니다.');  					   if($("#resetPWD1").val() == ''){$("#resetPWD1").focus();}					   if($("#resetPWD2").val() == ''){$("#resetPWD2").focus();}					   result = false; 				   	   return result;				   }				   				   if($("#resetPWD1").val() != $("#resetPWD2").val()) {					   alert('패스워드가 일치하지 않습니다.');					   result = false; 				   	   return result;				   }				   				   return result;			   }		    </script>		  </div>	</div></div>
<%@ page contentType="text/html; charset=utf-8" pageEncoding="utf-8"%><%@ include file="../../common/taglibs.jsp" %><script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script><section id="bx_signup_step">    <div class="con_type1">        <header>            <h1>회원가입</h1>        </header>        <div class="signup_step">            <ul>                <li><div><img src="/common/front/images/ico/ico_signup_step1.png" alt="약관동의"></div><span>약관동의</span></li>                <li class="on"><div><img src="/common/front/images/ico/ico_signup_step2.png" alt="필수정보"></div><span>필수정보</span></li>                <li><div><img src="/common/front/images/ico/ico_signup_step3.png" alt="추가정보"></div><span>추가정보</span></li>                <li><div><img src="/common/front/images/ico/ico_signup_step4.png" alt="가입완료"></div><span>가입완료</span></li>            </ul>        </div>        <form action="" id="step02" onsubmit="return false">        <input type="hidden" name="chkTerm" value="${parameter.chkTerm}">        <input type="hidden" name="obj" value="${parameter.obj}">		<input type="hidden" name="objGender" value="${parameter.objGender}">		<input type="hidden" name="objBirth" value="${parameter.objBirth}">        <input type="hidden" name="idCheck" id="idCheck" value="N">            <div class="form_type3">                <ul>                    <li class="require">                        <div class="inputlabel">                            <input type="text" class="ipt w160" name="userName" id="name" onblur="chkAccount.name(this)" value="${parameter.objName}" readOnly>                            <label for="name" class="tit">이름<span>*</span></label>                        </div>                    </li>                    <li class="require">                        <div class="inputlabel">                            <input type="number" class="ipt w200 injectAble" name="phoneNum" id="phonenum" value="${parameter.objMNum}" onblur="chkAccount.phone(this)" readOnly>                            <label for="phonenum" class="tit">휴대폰번호<span>*</span></label>                        </div>                        <div class="status"></div>                    </li>                    <li class="require">                        <div class="inputlabel">                            <input type="text" class="ipt w260" name="userId" id="userid" onblur="emailCheckBlur(this)">                            <label for="userid" class="tit">아이디(이메일)<span>*</span></label><!--                             <button type="button" onclick="emailCheck('#userid');" class="btn_pack btn_mo gray small"><span>중복체크</span></button> -->                        </div>                        <div class="status"></div>                    </li>                    <li class="require">                        <div class="inputlabel">                            <input type="password" class="ipt w180" name="userPw01" id="PWD1" onblur="chkAccount.pw01(this)">                            <label for="PWD1" class="tit">비밀번호<span>*</span></label>                            <label>영 소문자, 숫자 조합 8자리 이상</label>                        </div>                        <div class="status"></div>                    </li>                    <li class="require">                        <div class="inputlabel">                            <input type="password" class="ipt w180" name="userPw02" id="PWD2" onblur="chkAccount.pw02(this,'#PWD1')">                            <label for="PWD2" class="tit">비밀번호 확인<span>*</span></label>                        </div>                        <div class="status"></div>                    </li>                </ul>            </div>        </form>    </div>    <div class="btns center">        <button id="btnNext" class="btn_pack btn_mo navy"><span>다음</span> <img src="/common/front/images/ico/ico_arr_right2.gif" alt=">"></button>    </div>	<script type="text/javascript">	     inputlabel.align();	     placeHFn.align();	     setChkAndRadio();	     chkAccount.name($("#name"));	     chkAccount.phone($("#phonenum"));	    function emailCheck(t,list,meg){	    	//var t = $(id), list = t.closest('li'), meg = list.find(".status");            if(t.val() != null && t.val() != ''){		    	//if(list.hasClass('bad')) return;                $.ajax({					type: "post"			   		,url : '/useridCheck.af'			   		,data : {user_id : t.val()}			   		,dataType : "html"			   		,success: function(obj){			   			if(obj === ''){			   				list.removeClass("bad").addClass('good');                            meg.html("");			   				$("#idCheck").val('Y');			   			}else if(obj === 'DUPLITE'){			   				list.removeClass("good").addClass('bad');                            meg.html("중복된 아이디 입니다.");                            $("#userid").focus();			   				return;			   			}else{			   				alert("아이디 중복체크중 에러가 발생하였습니다.");			   				return;			   			}			   		}			   		,error: function(xhr, option, error){			   			alert("에러가 발생했습니다. 잠시 후에 다시하세요.");			   		}		   		});	    	}else{	    		alert("아이디(이메일)을 입력해 주세요.");                t.focus();	    		return;	    	}		}        function emailCheckBlur(id){            var t = $(id), list = t.closest('li'), meg = list.find(".status");            var regex=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;            if(t.val() === ""){                meg.html("");                list.removeClass("good bad");                return true;            }            t.val(t.val().trim());            if(!regex.test(t.val())){                list.removeClass("good").addClass('bad');                meg.html("잘못된 이메일 형식입니다.");            }else{            	emailCheck(t,list,meg);            }//             if(!regex.test(t.val())){//                 list.removeClass("good").addClass('bad');//                 meg.html("잘못된 이메일 형식입니다.");//             }else if($("#idCheck").val() === 'Y'){//                 $("#idCheck").val('N');//                 list.removeClass("good").addClass('bad');//                 meg.html("아이디 중복체크를 해주세요.");//             }else if($("#idCheck").val() === 'O'){//                 $("#idCheck").val('N');//                 list.removeClass("good").addClass('bad');//                 meg.html("중복된 아이디 입니다.");//             }else{//                 list.addClass("good").removeClass('bad');//                 meg.html("사용가능한 이메일 입니다.");//                 //meg.html("사용가능한 이메일 입니다.");//             }        };        $("#btnNext").click(function(){	    	if($("#idCheck").val() === 'Y'){	    		memberPop.goSignupStpe3();	    	}else{   				alert("아이디 중복체크를 해주세요.");                $("#userid").focus();   				return;	    	}        });	</script></section>